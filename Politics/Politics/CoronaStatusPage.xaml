<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="Politics.CoronaStatusPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Politics"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:ct="using:CoronaCharts" xmlns:controls="using:CommunityToolkit.WinUI.Controls"
    mc:Ignorable="d"
    Loaded="Page_Loaded">
    <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
        <Grid.Resources>
            <Style x:Key="ChapterText" TargetType="TextBlock">
                <Setter Property="Width" Value="250"/>
                <Setter Property="HorizontalAlignment" Value="Left"/>
                <Setter Property="Margin" Value="20"/>
                <Setter Property="FontSize" Value="24"/>
            </Style>
            <Style x:Key="SubChapterText" TargetType="TextBlock">
                <Setter Property="Width" Value="600"/>
                <Setter Property="TextWrapping" Value="WrapWholeWords"/>
                <Setter Property="Margin" Value="20"/>
                <Setter Property="HorizontalAlignment" Value="Left"/>
                <Setter Property="FontSize" Value="20"/>
            </Style>
        </Grid.Resources>
        <TabView>
            <TabViewItem Header="Current">
                <StackPanel Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Center">
                    <StackPanel.Resources>
                        <Style TargetType="StackPanel">
                            <Setter Property="Margin" Value="20"/>
                        </Style>
                        <Style TargetType="TextBlock">
                            <Setter Property="Width" Value="150"/>
                        </Style>
                        <Style x:Key="MessageText" TargetType="TextBlock">
                            <Setter Property="Width" Value="350"/>
                        </Style>
                    </StackPanel.Resources>
                    <TextBlock Style="{StaticResource TitleTextBlockStyle}">Revolution: POLITICS</TextBlock>
                    <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding ActivityText}"></TextBlock>
                    <StackPanel x:Name="UserCommandStatus" Orientation="Horizontal" Visibility="Collapsed">
                        <Rectangle Width="75" Height="20" Stroke="Black" StrokeThickness="1" Margin="0,0,10,0">
                            <Rectangle.Fill>
                                <SolidColorBrush Color="{Binding UserCommandColor}"/>
                            </Rectangle.Fill>
                        </Rectangle>
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding UserCommandApi}" VerticalAlignment="Center" Width="100"/>
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding UserCommandTopic}" VerticalAlignment="Center" Width="200" />
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding UserCommandMessage}" VerticalAlignment="Center" Width="400" />
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding UserCommandStart}" VerticalAlignment="Center" Width="400" />
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding UserCommandElapsed}" VerticalAlignment="Center" Width="400" />
                    </StackPanel>
                    <StackPanel x:Name="CommandStatus" Orientation="Horizontal" Visibility="Collapsed">
                        <Rectangle Width="75" Height="20" Stroke="Black" StrokeThickness="1" Margin="0,0,10,0">
                            <Rectangle.Fill>
                                <SolidColorBrush Color="{Binding CommandColor}"/>
                            </Rectangle.Fill>
                        </Rectangle>
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding CommandApi}" VerticalAlignment="Center" Width="100"/>
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding CommandTopic}" VerticalAlignment="Center" Width="200" />
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding CommandMessage}" VerticalAlignment="Center" Width="400" />
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding CommandStart}" VerticalAlignment="Center" Width="150" />
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding CommandElapsed}" VerticalAlignment="Center" Width="150" />
                    </StackPanel>
                    <StackPanel x:Name="JobStatus" Orientation="Horizontal">
                        <Rectangle Width="75" Height="20" Stroke="Black" StrokeThickness="1" Margin="0,0,10,0">
                            <Rectangle.Fill>
                                <SolidColorBrush Color="{Binding JobColor}"/>
                            </Rectangle.Fill>
                        </Rectangle>
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding JobApi}" VerticalAlignment="Center" Width="100"/>
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding JobTopic}" VerticalAlignment="Center" Width="200" />
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding JobMessage}" VerticalAlignment="Center" Width="400" />
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding JobStart}" VerticalAlignment="Center" Width="150" />
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding JobElapsed}" VerticalAlignment="Center" Width="150" />
                    </StackPanel>
                    <StackPanel x:Name="JobSectionStatus" Orientation="Horizontal">
                        <Rectangle Width="75" Height="20" Stroke="Black" StrokeThickness="1" Margin="0,0,10,0">
                            <Rectangle.Fill>
                                <SolidColorBrush Color="{Binding JobSectionColor}"/>
                            </Rectangle.Fill>
                        </Rectangle>
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding JobSectionApi}" VerticalAlignment="Center" Width="100"/>
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding JobSectionTopic}" VerticalAlignment="Center" Width="200" />
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding JobSectionMessage}" VerticalAlignment="Center" Width="400" />
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding JobSectionStart}" VerticalAlignment="Center" Width="150" />
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding JobSectionElapsed}" VerticalAlignment="Center" Width="150" />
                    </StackPanel>
                    <StackPanel x:Name="FunctionStatus" Orientation="Horizontal">
                        <Rectangle Width="75" Height="20" Stroke="Black" StrokeThickness="1" Margin="0,0,10,0">
                            <Rectangle.Fill>
                                <SolidColorBrush Color="{Binding FunctionColor}"/>
                            </Rectangle.Fill>
                        </Rectangle>
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding FunctionApi}" VerticalAlignment="Center" Width="100"/>
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding FunctionTopic}" VerticalAlignment="Center" Width="200" />
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding FunctionMessage}" VerticalAlignment="Center" Width="400" />
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding FunctionStart}" VerticalAlignment="Center" Width="150" />
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding FunctionElapsed}" VerticalAlignment="Center" Width="150" />
                    </StackPanel>
                    <StackPanel x:Name="InformationStatus" Orientation="Horizontal">
                        <Rectangle Width="75" Height="20" Stroke="Black" StrokeThickness="1" Margin="0,0,10,0">
                            <Rectangle.Fill>
                                <SolidColorBrush Color="{Binding InformationColor}"/>
                            </Rectangle.Fill>
                        </Rectangle>
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding InformationApi}" VerticalAlignment="Center" Width="100"/>
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding InformationTopic}" VerticalAlignment="Center" Width="200" />
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding InformationMessage}" VerticalAlignment="Center" Width="400" />
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding InformationStart}" VerticalAlignment="Center" Width="150" />
                    </StackPanel>
                    <StackPanel x:Name="WarningStatus" Orientation="Horizontal">
                        <Rectangle Width="75" Height="20" Stroke="Black" StrokeThickness="1" Margin="0,0,10,0">
                            <Rectangle.Fill>
                                <SolidColorBrush Color="{Binding WarningColor}"/>
                            </Rectangle.Fill>
                        </Rectangle>
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding WarningApi}" VerticalAlignment="Center" Width="100"/>
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding WarningTopic}" VerticalAlignment="Center" Width="200" />
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding WarningMessage}" VerticalAlignment="Center" Width="400" />
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding WarningStart}" VerticalAlignment="Center" Width="150" />
                    </StackPanel>
                    <StackPanel x:Name="ExceptionStatus" Orientation="Horizontal">
                        <Rectangle Width="75" Height="20" Stroke="Black" StrokeThickness="1" Margin="0,0,10,0">
                            <Rectangle.Fill>
                                <SolidColorBrush Color="{Binding ExceptionColor}"/>
                            </Rectangle.Fill>
                        </Rectangle>
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding ExceptionApi}" VerticalAlignment="Center" Width="100"/>
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding ExceptionTopic}" VerticalAlignment="Center" Width="200" />
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding ExceptionMessage}" VerticalAlignment="Center" Width="400" />
                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{Binding ExceptionStart}" VerticalAlignment="Center" Width="150" />
                    </StackPanel>
                </StackPanel>
            </TabViewItem>
            <TabViewItem Header="Details">
                <TabViewItem.Content>
                    <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="4"/>
                            <ColumnDefinition Width="2*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="1.2*"/>
                            <RowDefinition Height="4"/>
                            <RowDefinition Height="4*"/>
                        </Grid.RowDefinitions>
                        <ScrollViewer Grid.Column="0" Grid.Row="0" Grid.RowSpan="3" x:Name="TargetScrollViewer"
                                HorizontalScrollBarVisibility="Auto"
                                VerticalScrollBarVisibility="Visible">
                                <StackPanel HorizontalAlignment="Stretch" VerticalAlignment="Stretch" >
                                <TextBlock Style="{StaticResource SubtitleTextBlockStyle}" Text="LEGEND" FontSize="20" HorizontalAlignment="Center"></TextBlock>
                                    <ct:LegendControl x:Name="legendControl"></ct:LegendControl>
                                </StackPanel>
                            </ScrollViewer>
                        <controls:GridSplitter Background="LightGray"  Grid.Column="1" Grid.Row="0" Grid.RowSpan="3" Width="1" ResizeBehavior="PreviousAndNext" ResizeDirection="Columns"></controls:GridSplitter>
                        <Grid Grid.Column="2" Grid.Row="0" >
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel Grid.Column="0" Orientation="Vertical">
                                <TextBlock Style="{StaticResource SubtitleTextBlockStyle}" Text="Average Milliseconds" FontSize="20" HorizontalAlignment="Center"></TextBlock>
                                <ct:BarChart x:Name="performanceChart" Width="200" Height="200" HorizontalAlignment="Center"></ct:BarChart>
                            </StackPanel>
                            <StackPanel Grid.Column="1" >
                                <TextBlock Style="{StaticResource SubtitleTextBlockStyle}" Text="Total Milliseconds" FontSize="20" HorizontalAlignment="Center"></TextBlock>
                                <ct:PieChart x:Name="distributionChart" Width="200" Height="200" HorizontalAlignment="Center"></ct:PieChart>
                            </StackPanel>
                        </Grid>
                        <controls:GridSplitter Background="LightGray" Grid.Column="2" Grid.Row="1" Height="1" ResizeBehavior="PreviousAndNext" ResizeDirection="Rows"></controls:GridSplitter>
                        <local:CoronaActivity x:Name="activitygrid" Grid.Column="2" Grid.Row="3" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"></local:CoronaActivity>
                    </Grid>
                </TabViewItem.Content>
            </TabViewItem>
        </TabView>
    </Grid>
</Page>
